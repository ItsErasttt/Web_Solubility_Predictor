<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body class="light">

<div class="container">

  
    <div class="theme-switcher">
        <label for="switch" class="switch-label">–°–≤–µ—Ç–ª–∞—è / –¢—ë–º–Ω–∞—è —Ç–µ–º–∞</label>
        <label class="switch">
            <input type="checkbox" id="switch">
            <span class="slider"></span>
        </label>
    </div>

    <h1>üïí –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤</h1>


    <div class="actions">
        <button id="clear-history" class="btn-danger">üóë –û—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
        <button id="download-all" class="btn-success">üíæ –°–∫–∞—á–∞—Ç—å –≤—Å—ë –∫–∞–∫ CSV</button>

        <button onclick="window.location.href='/'" class="btn-primary">‚¨ÖÔ∏è –ù–∞–∑–∞–¥ –∫ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è–º</button>
    </div>

    <section class="card history-list">
        <h2>–ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
        <p id="empty-history" class="text-center hidden">–ò—Å—Ç–æ—Ä–∏—è –ø—É—Å—Ç–∞.</p>
        <div id="history-results" class="history-grid"></div>
    </section>

</div>


<script src="{{ url_for('static', filename='js/history.js') }}"></script>


<script>
    const switchBtn = document.getElementById('switch');
    const body = document.body;


    const isDark = localStorage.getItem('darkTheme') === 'true';
    if (isDark) {
        body.classList.add('dark');
        switchBtn.checked = true;
    }

    switchBtn.addEventListener('change', () => {
        if (switchBtn.checked) {
            body.classList.add('dark');
            localStorage.setItem('darkTheme', 'true');
        } else {
            body.classList.remove('dark');
            localStorage.setItem('darkTheme', 'false');
        }
    });
</script>

</body>
</html>